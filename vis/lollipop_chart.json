{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

  "data": {
    "url": "https://raw.githubusercontent.com/soniaram94/FIT3179-Data-Visualisation-2/main/data/disability_type_prevalence_2018_total.csv"
  },

  "transform": [
    { "calculate": "toNumber(datum.Percent)", "as": "Pct" }
  ],

  "autosize": { "type": "fit", "contains": "padding" },
  "width": "container",
  "height": { "step": 20 },               
  "padding": { "left": 220, "right": 8, "top": 8, "bottom": 40 },

  "encoding": {
    "y": {
      "field": "DisabilityType",
      "type": "ordinal",
      "sort": { "field": "Pct", "order": "descending" },
      "title": null,
      "axis": {
        "labelLimit": 1000,
        "labelFontSize": 9,
        "labelAlign": "right",
        "labelPadding": 6
      }
    },
    "x": {
      "field": "Pct",
      "type": "quantitative",
      "title": "Per cent",
      "scale": { "domain": [0, 50] },
      "axis": { "labelFontSize": 9, "titleFontSize": 9, "grid": true }
    },
    "color": {
      "field": "Group",
      "type": "nominal",
      "title": "Disability group",
      "scale": {
        "range": ["#3DBAA2", "#0077B6", "#65c7bd", "#8354b3", "#9cc263"]
      },
      "legend": {
        "orient": "top",
        "direction": "horizontal",
        "columns": 3,
        "labelFontSize": 9,
        "titleFontSize": 9,
        "symbolType": "circle",
        "symbolSize": 80
      }
    },
    "tooltip": [
      { "field": "DisabilityType", "title": "Disability type" },
      { "field": "Group", "title": "Group" },
      { "field": "Pct", "title": "Percent", "format": ".1f" }
    ]
  },

  "layer": [
    {
      "mark": { "type": "rule", "strokeWidth": 2, "opacity": 0.5, "color": "#467e73" },
      "encoding": {
        "x2": { "datum": 0 }
      }
    },
    {
      "mark": { "type": "point", "filled": true, "size": 100, "opacity": 1 }
    }
  ],

  "config": {
    "view": { "stroke": null },
    "axis": { "labelFontSize": 9, "titleFontSize": 9 }
  }
}
