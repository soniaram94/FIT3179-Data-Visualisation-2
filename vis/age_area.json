{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Persons with disability by age group (ABS 2003â€“2022). Select multiple age groups.",
  "data": { 
    "url": "https://raw.githubusercontent.com/soniaram94/FIT3179-Data-Visualisation-2/refs/heads/main/data/disability_age_years.csv" 
  },

  "transform": [
    { "calculate": "toNumber(datum.Year)", "as": "YearNum" }
  ],

  

  "params": [
    {
      "name": "ageFilter",
      "select": {"type": "point", "fields": ["Age"]},
      "bind": "legend"
    }
  ],

  "mark": {
  "type": "area",
  "interpolate": "monotone",
  "opacity": 0.5,
  "line": true,
  "strokeWidth": 1.5
},
"encoding": {
  "x": { 
    "field": "YearNum", 
    "type": "quantitative", 
    "axis": {"format": "d", "title": "Year"}
  },
  "y": {
    "field": "Estimate_k", 
    "type": "quantitative",
    "title": "Persons with disability ('000)",
    "scale": {"zero": false}
  },
  "color": {
    "field": "Age",
    "type": "nominal",
    "title": "Age Group",
    "legend": {"orient": "right", "labelLimit": 120}
  },
  "opacity": {
    "condition": {"param": "ageFilter", "value": 0.9},
    "value": 0.2
  },
  "tooltip": [
    {"field": "Age", "type": "nominal", "title": "Age group"},
    {"field": "YearNum", "type": "quantitative", "title": "Year", "format": "d"},
    {"field": "Estimate_k", "type": "quantitative", "title": "Estimate ('000)", "format": ",.1f"}
  ]
},
  "title": { 
    "anchor": "start",
    "fontSize": 20
  },
  "width": "container",
  "height": "container"
}